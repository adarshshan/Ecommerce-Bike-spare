import g,{useCallback as k,useEffect as y,useState as v}from"react";var m=class{constructor(){this.toasts=[],this.subscribers=[]}subscribe(s){return this.subscribers=[...this.subscribers,s],()=>{this.subscribers.splice(this.subscribers.indexOf(s),1)}}publish(s){this.subscribers.forEach(r=>r(s))}add(s,r){let o={id:this.toasts.length,state:"enter",type:r,title:s};this.toasts=[...this.toasts,o],this.publish(o)}},a=new m;import A from"react";function p(t,{insertAt:s}={}){if(!t||typeof document=="undefined")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",s==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}p(`.toast-enter{animation:enterAnimation .35s cubic-bezier(.21,1.02,.73,1) forwards}.toast-leave{animation:leaveAnimation .4s cubic-bezier(.06,.71,.55,1) forwards}@keyframes enterAnimation{0%{transform:translate3d(0,200%,0) scale(.6);opacity:.5}to{transform:translateZ(0) scale(1);opacity:1}}@keyframes leaveAnimation{0%{transform:translateZ(-1px) scale(1);opacity:1}to{transform:translate3d(0,150%,-1px) scale(.6);opacity:0}}
`);import l from"react";var h=l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),T=l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},l.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var b=({toast:t})=>A.createElement("div",{className:`toast-${t.state}`,style:{paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem",borderRadius:"0.375rem",backgroundColor:"rgb(243, 244, 246)",fontWeight:500,fontSize:"0.875rem",lineHeight:"1.25rem",color:"rgb(17, 24, 39)",zIndex:t.id,display:"flex",gap:4,minWidth:220},key:t.id},t.type==="success"&&h,t.type==="error"&&T,t.title);var E=({position:t="bottom-right",duration:s=3e3,style:r,className:o})=>{let[x,d]=v([]),[I,w]=v({});y(()=>{let e=a.subscribe(i=>{d(n=>[...n,i]),S(i)});return()=>{e()}},[]),y(()=>{let[e,i]=t.split("-");w({[e]:0,[i]:0})},[t]);function S(e){setTimeout(()=>u(e,"idle"),300),setTimeout(()=>u(e,"leave"),s-100),setTimeout(()=>z(e),s)}function u(e,i){d(n=>{var c=n.slice(),f=c.findIndex(C=>C.id===e.id);return c[f]={...c[f],state:i},c})}let z=k(e=>d(i=>i.filter(n=>n.id!==e.id)),[]);return g.createElement("section",{style:{position:"absolute",overflow:"hidden",display:"flex",flexDirection:"column",gap:5,padding:20,transform:"translateY(0)",height:"fit-content",transition:"all 230ms cubic-bezier(.21, 1.02, .73, 1)",...I}},x.map((e,i)=>g.createElement(b,{key:i,toast:e})))};var P=t=>{a.add(t,"success")},B=t=>{a.add(t,"error")},N=t=>{a.add(t,"default")},j=Object.assign(N,{success:P,error:B});export{E as Toaster,j as toast};
//# sourceMappingURL=index.mjs.map